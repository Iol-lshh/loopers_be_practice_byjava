---
title: "요구사항 정의"
---

## 단어장

| 단어 | 영어 | 설명 |
| --- | --- | --- |
| 브랜드 | Brand | 상품을 판매하는 주체 |
| 상품 | Product | 브랜드가 판매하는 물건 |
| 좋아요 | Like | 상품에 대한 좋아요 표시 |
| 주문 | Order | 상품을 구매하는 행위 |
| 결제 | Payment | 주문을 완료하는 행위 |

## 브랜드 & 상품 (Brands / Products)

### 브랜드 조회

- 성공
  - 브랜드 식별자로 브랜드 정보를 조회할 수 있다.
- 실패
  - 존재하지 않는 브랜드를 조회하면 실패한다.

- 비기능 요구사항
  - 오류에 다음과 같은 HTTP 상태 코드를 반환한다.

| 케이스 | 상태 코드 |
| --- | --- |
| 존재하지 않는 브랜드 | 404 |

### 상품 목록 조회

- 성공
  - 상품 목록을 조회할 수 있다.
  - 최신순, 가격, 좋아요의 오름차순/내림차순 정렬을 지원한다.
  - 브랜드 필터링 기능을 제공한다.
  - 페이징 처리를 지원한다.
  - 상품 목록 조회 시 각 상품에 대한 좋아요 수를 표기한다.

- 실패
  - 브랜드 필터링 시, 존재하지 않는 브랜드를 조회하면 실패한다.

- 비기능 요구사항
  - 오류에 다음과 같은 HTTP 상태 코드를 반환한다.

| 케이스 | 상태 코드 |
| --- | --- |
| 존재하지 않는 브랜드 | 404 |

### 상품 정보 조회

- 성공
  - 상품 식별자로 상품 정보를 조회할 수 있다.

- 실패
  - 존재하지 않는 상품을 조회하면 실패한다.

- 비기능 요구사항
  - 오류에 다음과 같은 HTTP 상태 코드를 반환한다.

| 케이스 | 상태 코드 |
| --- | --- |
| 존재하지 않는 상품 | 404 |

## 좋아요 (Likes)

### 상품 좋아요 등록

- 성공
  - 존재하는 유저에 의해 존재하는 상품을 좋아요 등록할 수 있다.
  - 좋아요 등록 시, 해당 상품의 좋아요 수가 증가한다.
  - 중복된 좋아요 등록 요청은 멱등적으로 처리된다.

- 실패
  - 존재하지 않는 유저가 좋아요 등록을 시도하면 실패한다.
  - 존재하지 않는 상품에 대해 좋아요 등록을 시도하면 실패한다.

- 비기능 요구사항
  - 오류에 다음과 같은 HTTP 상태 코드를 반환한다.

| 케이스 | 상태 코드 |
| --- | --- |
| 존재하지 않는 유저 | 404 |
| 존재하지 않는 상품 | 404 |

### 상품 좋아요 취소

- 성공
  - 존재하는 유저에 의해 존재하는 상품의 좋아요를 취소할 수 있다.
  - 좋아요 취소 시, 해당 상품의 좋아요 수가 감소한다.
  - 중복된 좋아요 취소 요청은 멱등적으로 처리된다.

- 실패
  - 존재하지 않는 유저가 좋아요 취소를 시도하면 실패한다.
  - 존재하지 않는 상품에 대해 좋아요 취소를 시도하면 실패한다.

- 비기능 요구사항
  - 오류에 다음과 같은 HTTP 상태 코드를 반환한다.

| 케이스 | 상태 코드 |
| --- | --- |
| 존재하지 않는 유저 | 404 |
| 존재하지 않는 상품 | 404 |

### 내가 좋아요 한 상품 목록 조회

- 성공
  - 존재하는 유저가 좋아요 한 상품 목록을 조회할 수 있다.

- 실패
  - 존재하지 않는 유저가 좋아요 한 상품 목록을 조회하면 실패한다.

- 비기능 요구사항
  - 사용자 인증은 `X-USER-ID` 헤더를 통해 이루어진다.
  - 오류에 다음과 같은 HTTP 상태 코드를 반환한다.

| 케이스 | 상태 코드 |
| --- | --- |
| 존재하지 않는 유저 | 404 |

## 주문 / 결제 (Orders)

### 주문 요청

- 성공
  - {상품 아이디, 수량} 리스트 형태로 주문을 요청할 수 있다.
  - 존재하는 유저가 주문을 시도했을 때, 주문 가능한 상품이라면 주문이 성공한다.
  - 주문이 성공되면 재고가 차감되고, 유저의 포인트가 차감된다.
  - 주문이 성공되면 외부 시스템에 주문 정보가 전송된다.

- 실패
  - 존재하지 않는 유저가 주문을 시도하면 실패한다.
  - 존재하지 않는 상품을 주문하려고 하면 실패한다.
  - 재고가 부족한 상품을 주문하려고 하면 실패한다.
  - 포인트가 부족한 경우 주문이 실패한다.

- 비기능 요구사항
  - 포인트 사용에 대한 도메인 이벤트를 기록한다.
  - 외부 시스템에 주문 정보를 전송하는 것은 outbox 패턴을 사용한다.
  - 오류에 다음과 같은 HTTP 상태 코드를 반환한다.

| 케이스 | 상태 코드 |
| --- | --- |
| 존재하지 않는 유저 | 404 |
| 존재하지 않는 상품 | 404 |
| 부족한 재고 | 400 |
| 부족한 포인트 | 400 |

### 유저의 주문 목록 조회

- 성공
  - 존재하는 유저가 자신의 주문 목록을 조회할 수 있다.

- 실패
  - 존재하지 않는 유저가 자신의 주문 목록을 조회하려고 하면 실패한다.

- 비기능 요구사항
  - 사용자 인증은 `X-USER-ID` 헤더를 통해 이루어진다.
  - 오류에 다음과 같은 HTTP 상태 코드를 반환한다.

| 케이스 | 상태 코드 |
| --- | --- |
| 존재하지 않는 유저 | 404 |

### 단일 주문 상세 조회

- 성공
  - 존재하는 유저가 자신의 단일 주문 상세 정보를 조회할 수 있다.
  - 주문 상세 정보에는 주문 상태, 주문 상품 목록, 결제 정보 등이 포함된다.
  - 주문 상품 목록에는 각 상품의 아이디, 이름, 수량, 가격 등이 포함된다.

- 실패
  - 존재하지 않는 유저가 단일 주문 상세 정보를 조회하려고 하면 실패한다.
  - 존재하지 않는 주문을 조회하려고 하면 실패한다.

- 비기능 요구사항
  - 사용자 인증은 `X-USER-ID` 헤더를 통해 이루어진다.
  - 오류에 다음과 같은 HTTP 상태 코드를 반환한다.

| 케이스 | 상태 코드 |
| --- | --- |
| 존재하지 않는 유저 | 404 |
| 존재하지 않는 주문 | 404 |
